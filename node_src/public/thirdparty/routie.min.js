(function (n) { var i = [], r = {}, u = function (n, t) { this.name = t; this.path = n; this.keys = []; this.fns = []; this.params = {}; this.regex = c(this.path, this.keys, !1, !1) }; u.prototype.addHandler = function (n) { this.fns.push(n); var t = o(); s(t, this) }; u.prototype.removeHandler = function (n) { for (var r, t = 0, i = this.fns.length; t < i; t++) if (r = this.fns[t], n == r) { this.fns.splice(t, 1); return } }; u.prototype.run = function (n) { for (var t = 0, i = this.fns.length; t < i; t++) this.fns[t].apply(this, n) }; u.prototype.match = function (n, t) { var r = this.regex.exec(n), i, e, u, f; if (!r) return !1; for (i = 1, e = r.length; i < e; ++i) u = this.keys[i - 1], f = "string" == typeof r[i] ? decodeURIComponent(r[i]) : r[i], u && (this.params[u.name] = f), t.push(f); return !0 }; u.prototype.toURL = function (n) { var t = this.path; for (var i in n) t = t.replace("/:" + i, "/" + n[i]); if (t = t.replace(/\/:.*\?/g, "/").replace(/\?/g, ""), t.indexOf(":") != -1) throw new Error("missing parameters for url: " + t); return t }; var c = function (n, t, i, r) { return n instanceof RegExp ? n : (n instanceof Array && (n = "(" + n.join("|") + ")"), n = n.concat(r ? "" : "/?").replace(/\/\(/g, "(?:/").replace(/\+/g, "__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g, function (n, i, r, u, f, e) { return t.push({ name: u, optional: !!e }), i = i || "", "" + (e ? "" : i) + "(?:" + (e ? i : "") + (r || "") + (f || r && "([^/.]+?)" || "([^/]+?)") + ")" + (e || "") }).replace(/([\/.])/g, "\\$1").replace(/__plus__/g, "(.+)").replace(/\*/g, "(.*)"), new RegExp("^" + n + "$", i ? "" : "i")) }, e = function (n, t) { var f = n.split(" "), e = f.length == 2 ? f[0] : null; n = f.length == 2 ? f[1] : f[0]; r[n] || (r[n] = new u(n, e), i.push(r[n])); r[n].addHandler(t) }, t = function (n, i) { if (typeof i == "function") e(n, i); else if (typeof n == "object") for (var r in n) e(r, n[r]); else typeof i == "undefined" && t.navigate(n) }; t.lookup = function (n, t) { for (var u, r = 0, f = i.length; r < f; r++) if (u = i[r], u.name == n) return u.toURL(t) }; t.remove = function (n, t) { var i = r[n]; i && i.removeHandler(t) }; t.removeAll = function () { r = {}; i = [] }; t.navigate = function (n, t) { t = t || {}; var i = t.silent || !1; i && l(); setTimeout(function () { window.location.hash = n; i && setTimeout(function () { h() }, 1) }, 1) }; var o = function () { return window.location.hash.substring(1) }, s = function (n, t) { var i = []; return t.match(n, i) ? (t.run(i), !0) : !1 }, f = t.reload = function () { for (var t, r = o(), n = 0, u = i.length; n < u; n++) if (t = i[n], s(r, t)) return }, h = function () { n.addEventListener ? n.addEventListener("hashchange", f, !1) : n.attachEvent("onhashchange", f) }, l = function () { n.removeEventListener ? n.removeEventListener("hashchange", f) : n.detachEvent("onhashchange", f) }; h(); n.routie = t })(window);
//# sourceMappingURL=routie.min.js.map